<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Earning Empair</title>

<style>
:root{
  --p:#667eea;--s:#764ba2;--bg:linear-gradient(135deg,#667eea,#764ba2);
  --card:#fff;--txt:#111827;--mut:#6b7280;
}
*{box-sizing:border-box;font-family:system-ui;margin:0;padding:0}
body{background:var(--bg);min-height:100vh;padding-bottom:80px;color:var(--txt)}
.header{padding:16px;color:#fff;font-weight:800;text-align:center}
.page{display:none;padding:16px}
.page.active{display:block}
.card{background:var(--card);border-radius:20px;padding:16px;margin-bottom:16px;box-shadow:0 10px 30px rgba(0,0,0,.25)}
.coin{font-size:36px;font-weight:900;background:linear-gradient(135deg,#f59e0b,#d97706);
-webkit-background-clip:text;-webkit-text-fill-color:transparent}
input{width:100%;padding:12px;border-radius:12px;border:2px solid #e5e7eb;margin:6px 0}
.btn{width:100%;padding:14px;border-radius:14px;border:none;background:var(--bg);color:#fff;font-weight:800;cursor:pointer}
.btn:active{transform:scale(.96)}
.nav{position:fixed;bottom:0;left:0;right:0;display:flex;background:#fff;box-shadow:0 -4px 20px rgba(0,0,0,.2)}
.nav button{flex:1;padding:10px;border:none;background:none;font-size:12px;color:#6b7280}
.nav button.active{color:var(--p);font-weight:800}
.hidden{display:none}
</style>
</head>

<body>

<div class="header">Earning Empair</div>

<!-- AUTH -->
<div id="auth" class="page active">
  <div class="card">
    <h3>Login / Register</h3>
    <input id="email" placeholder="Email">
    <input id="password" type="password" placeholder="Password">
    <button class="btn" onclick="login()">Login</button>
    <button class="btn" style="margin-top:8px" onclick="register()">Register</button>
  </div>
</div>

<!-- HOME -->
<div id="home" class="page">
  <div class="card">
    <div>Total Coins</div>
    <div class="coin" id="coinBox">0</div>
  </div>

  <div class="card">
    <button class="btn" onclick="dailySpin()">ðŸŽ¡ Daily Spin</button>
  </div>

  <div class="card">
    <button class="btn" onclick="watchAd()">ðŸ“º Watch Ad & Earn</button>
  </div>

  <div class="card">
    <input id="redeemInput" placeholder="Redeem Code">
    <button class="btn" onclick="redeem()">Redeem</button>
  </div>
</div>

<!-- WALLET -->
<div id="wallet" class="page">
  <div class="card">Coins: <b id="walletCoins">0</b></div>
</div>

<!-- ADMIN -->
<div id="admin" class="page hidden">
  <div class="card">
    <h3>Admin Panel</h3>
    <input id="adminCode" placeholder="Set Redeem Code">
    <button class="btn" onclick="setRedeem()">Save Code</button>
  </div>
</div>

<div class="nav">
  <button class="active" onclick="openPage('home',this)">Home</button>
  <button onclick="openPage('wallet',this)">Wallet</button>
  <button onclick="openPage('admin',this)">Admin</button>
</div>

<!-- JS -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
<script>
/* ===== CONFIG (CHANGE THIS ONLY) ===== */
const SUPABASE_URL = "PASTE_YOUR_SUPABASE_URL_HERE";
const SUPABASE_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF5dGd2dml0d3FyZmRqZGRmbW9uIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjcyMzQ4MjUsImV4cCI6MjA4MjgxMDgyNX0.GXxif1AUW8si6CmZIUYhyqouETZgfEsJ1y0HwYij9dQ";
const ADMIN_EMAIL = "mitulbhowmik00@gmail.com";

const supabase = supabasejs.createClient(SUPABASE_URL, SUPABASE_KEY);

/* ===== STATE ===== */
let user = null;
let coins = 0;

/* ===== FUNCTIONS ===== */
function openPage(id,btn){
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  document.querySelectorAll('.nav button').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');
}

async function register(){
  alert("Register clicked");
  const email = emailEl.value;
  const password = passEl.value;
  const { error } = await supabase.auth.signUp({ email, password });
  if(error) return alert(error.message);
  alert("Registered, now login");
}

async function login(){
  alert("Login clicked");
  const email = emailEl.value;
  const password = passEl.value;
  const { data, error } = await supabase.auth.signInWithPassword({ email, password });
  if(error) return alert(error.message);
  user = data.user;
  document.getElementById("auth").classList.remove("active");
  openPage('home',document.querySelector('.nav button'));
  if(user.email === ADMIN_EMAIL){
    document.getElementById("admin").classList.remove("hidden");
  }
}

function dailySpin(){
  alert("Spin working âœ…");
}

function watchAd(){
  alert("Watch Ad working âœ…");
}

function redeem(){
  alert("Redeem working âœ…");
}

function setRedeem(){
  alert("Admin redeem set âœ…");
}

const emailEl = document.getElementById("email");
const passEl = document.getElementById("password");
</script>

</body>
</html>
